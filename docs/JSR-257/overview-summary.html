<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_11) on Mon Oct 11 18:33:20 IST 2010 -->
<TITLE>
Overview (Nokia Extensions for JSR-257)
</TITLE>

<META NAME="date" CONTENT="2010-10-11">

<LINK REL ="stylesheet" TYPE="text/css" HREF="stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Overview (Nokia Extensions for JSR-257)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Overview</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Package</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="overview-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<b>Nokia Extensions for JSR-257</b></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV&nbsp;
&nbsp;NEXT</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="index.html?overview-summary.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="overview-summary.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<CENTER>
<H1>
Nokia Extensions for JSR-257
</H1>
</CENTER>

This document describes the Nokia-supported extensions to the JSR-257 Contactless Communication API.
<P>

<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Packages</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="20%"><B><A HREF="com/innovision/rf/package-summary.html">com.innovision.rf</A></B></TD>
<TD>Provides an interface for accessing Innovision Jewel and Innovision Topaz tags.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="20%"><B><A HREF="com/nokia/nfc/nxp/mfstd/package-summary.html">com.nokia.nfc.nxp.mfstd</A></B></TD>
<TD>Provides an interface for accessing Mifare Standard smart cards.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="20%"><B><A HREF="com/nokia/nfc/nxp/simpletag/package-summary.html">com.nokia.nfc.nxp.simpletag</A></B></TD>
<TD>Provides an interface for accessing Simple Tag RFID ICs.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD WIDTH="20%"><B><A HREF="com/sony/felica/package-summary.html">com.sony.felica</A></B></TD>
<TD>Provides an interface for accessing NFC Forum Type 3 tags.</TD>
</TR>
</TABLE>

<h3>API Extensions</h3>
<p>Table 1 lists the Nokia-supported extensions to the JSR-257 Contactless Communication API. 
The listed system properties can be used for checking whether the API extension is available on the device. 
The system property values are equal to the API extension version.</p>

<p><i>Table 1. Nokia-supported extensions to JSR-257</i></p>
<table border="1" cellpadding="3" cellspacing="0">
	<tr>
		<td><b>Interface Name</b></td>
		<td><b>Package</b></td>
		<td><b>System Property Name</b></td>
		<td><b>Version</b></td>
	</tr>
	<tr>
		<td><code>JewelTagConnection</code></td>
		<td><code>com.innovision.rf</code></td>
     	<td><code>com.innovision.jewel.version</code></td>
     	<td><code>1.0</code></td>
	</tr>
	<tr>
		<td><code>Type3TagConnectionn</code></td>
		<td><code>com.sony.felica</code></td>
		<td><code>com.sony.felica.type3tag.version</code></td>
     	<td><code>1.0</code></td>
	</tr>
	<tr>
		<td><code>MifareStdConnection</code></td>
		<td><code>com.nokia.nfc.nxp.mfstd</code></td>
		<td><code>com.nokia.nfc.nxp.mfstd.version</code></td>
     	<td><code>1.0</code></td>
	</tr>
	<tr>
		<td><code>SimpleTagConnection</code></td>
		<td><code>com.nokia.nfc.nxp.simpletag</code></td>
		<td><code>com.nokia.nfc.nxp.simpletag.version</code></td>
     	<td><code>1.0</code></td>
	</tr>
	
</table>

<p>Table 2 lists additional properties for <code>DiscoveryManager</code>. The values of the properties can be retrieved with the <code>DiscoveryManager.getProperty()</code> method.</p>
<p><i>Table 2. DiscoveryManager properties</i></p>
<table border="1" cellpadding="3" cellspacing="0">
	<tr>
		<td><b>Property Name</b></td>
		<td><b>Values</b></td>
		<td><b>Description</b></td>
	</tr>
	<tr>
		<td valign="top"><code>LaunchType</code></td>
     	<td valign="top"><code>touch</code> or <code>manual</code></td>
     	<td valign="top">Used for checking how the MIDlet was launched. If the value is <code>touch</code>,
     	    the MIDlet was launched by a JSR-257 PushRegistry connection, for example,
     	    when the user touched a tag that contained a specific NDEF record.</td>
	</tr>
	<tr>
		<td valign="top"><code>MifareStandardKeyA</code></td>
		<td valign="top">hexadecimal string with a length of 12 characters</td>
		<td valign="top">Defines the Mifare Standard authentication key A. This key is used for 
		authenticating to a tag when using an <code>NDEFTagConnection</code>.
        If both the <code>MifareStandardKeyA</code> and <code>MifareStandardKeyB</code> properties are defined, the B key is used.
        <p></p>
        A key is not sector-specific; it is used for all sectors accessed during reads and writes. 
		The key value is a hexadecimal string consisting of 12 characters. Valid characters are in the range [0-9a-fA-F]. 
		The key is set before every read or write method call. An empty string disables the key.
		</td>
	</tr>
	<tr>
		<td valign="top"><code>MifareStandardKeyB</code></td>
		<td valign="top">hexadecimal string with a length of 12 characters</td>
		<td valign="top">Defines the Mifare Standard authentication key B. This key is used for 
		authenticating to a tag when using an <code>NDEFTagConnection</code>.
        If both the <code>MifareStandardKeyA</code> and <code>MifareStandardKeyB</code> properties are defined, the B key is used.
        <p></p>
		A key is not sector-specific; it is used for all sectors accessed during reads and writes. 
		The key value is a hexadecimal string consisting of 12 characters. Valid characters are in the range [0-9a-fA-F]. 
		The key is set before every read or write method call. An empty string disables the key.
		</td>
	</tr>
</table>

<h3>Security</h3>
<p>Writing to an NDEF tag is a protected operation. The write permission is assigned to a new function group called NFC Write Access.</p>
<p><i>Table 3. Mapping JSR-257 permissions to function groups</i></p>
<table border="1" cellpadding="2" cellspacing="0">
	<tr>
		<td><b>Permission Name</b></td>
		<td><b>Function Group</b></td>
	</tr>
	<tr>
		<td valign="top"><code>javax.microedition.contactless.ndef.NDEFTagConnection.write</code></td>
		<td valign="top">NFC Write Access</td>
	</tr>
</table>

<h3>PushRegistry</h3>
<p>The Nokia implementation of JSR-257 supports PushRegistry connections as defined in the 
JSR-257 specification 1.0 Appendix B. Secure element push is not supported.</p>

<p>The listener is notified, if a MIDlet is launched by touching an NDEF tag, and if 
an <code>NDEFRecordListener</code> is registered to <code>DiscoveryManager</code> using 
the appropriate NDEF record type within 30 seconds of receiving the <code>DiscoveryManager</code> 
instance. The <code>recordDetected()</code> parameter contains the NDEF record that triggered the 
launch.</p>

<p>The PushRegistry connection URL syntax is:</p>
<pre>
   &lt;conn url&gt; ::= &lt;ndef url&gt;
   &lt;ndef url&gt; ::= "ndef:"&lt;type format&gt;"?name="&lt;ndef fqn&gt;
   &lt;type format&gt; ::= "rtd" | "external_rtd" | "mime" | "uri"
   &lt;ndef fqn&gt; ::= String of US_ASCII characters, the fully qualified name of the record type
</pre>

<h3>Reserved NDEF Record Types</h3>
<p>Some NDEF record types are reserved for native applications and cannot be used for PushRegistry registrations.
If a MIDlet registers an <code>NDEFRecordListener</code> for a reserved NDEF record type, the MIDlet is notified
of new records only if it is running in the foreground. The reserved NDEF record type are listed in Table 4.</p>

<p><i>Table 4. Reserved NDEF Record Types</i></p>
<table border="1" cellpadding="3" cellspacing="0">
	<tr>
		<td><b>Type Name</b></td>
		<td><b>Type Name Format</b></td>
		<td><b>Description</b></td>
	</tr>
	<tr>
		<td><code>urn:nfc:ext:nokia.com:bt</code></td>
		<td>NFC Forum External Type</td>
		<td>Bluetooth 2.0</td>
	</tr>
	<tr>
		<td><code>application/vnd.bluetooth.ep.oob</code></td>
		<td>MIME</td>
		<td>Bluetooth 2.1</td>
	</tr>
	<tr>
		<td><code>urn:nfc:wkt:Hr</code></td>
		<td>NFC Forum RTD</td>
		<td>Handover request</td>
	</tr>
	<tr>
		<td><code>urn:nfc:wkt:Hs</code></td>
		<td>NFC Forum RTD</td>
		<td>Handover select</td>
	</tr>
	<tr>
		<td><code>urn:nfc:wkt:Sp</code></td>
		<td>NFC Forum RTD</td>
		<td>Smart poster</td>
	</tr>
	<tr>
		<td><code>urn:nfc:wkt:U</code></td>
		<td>NFC Forum RTD</td>
		<td>URI</td>
	</tr>
	<tr>
		<td><code>audio/*</code></td>
		<td>MIME</td>
		<td>Any audio file</td>
	</tr>
	<tr>
		<td><code>image/*</code></td>
		<td>MIME</td>
		<td>Any image file</td>
	</tr>
	<tr>
		<td><code>text/*</code></td>
		<td>MIME</td>
		<td>Any text file</td>
	</tr>
	<tr>
		<td><code>video/*</code></td>
		<td>MIME</td>
		<td>Any video file</td>
	</tr>
	<tr>
		<td><code>application/java-archive</code></td>
		<td>MIME</td>
		<td>Java archive file (JAR)</td>
	</tr>
	<tr>
		<td><code>application/x-java-archive*</code></td>
		<td>MIME</td>
		<td>Any non-standard Java archive file</td>
	</tr>
	<tr>
		<td><code>application/vnd.nokia.ringing-tone</code></td>
		<td>MIME</td>
		<td>Nokia ringtone</td>
	</tr>
	<tr>
		<td><code>application/vnd.symbian.install</code></td>
		<td>MIME</td>
		<td>Symbian installation file (SIS)</td>
	</tr>
	<tr>
		<td><code>application/vnd.wap*</code></td>
		<td>MIME</td>
		<td>Any WAP file</td>
	</tr>
</table>

<h3>Default Mifare Standard Authentication Keys</h3>
<p>
If the user does not specify an authentication key when accessing a 
Mifare Standard card, the device uses one of the default
authentication keys described in Table 5.</p>

<p><i>Table 5. Default Mifare Standard authentication keys</i></p>
<table border="1" cellpadding="3" cellspacing="0">
	<tr>
		<td><b>Authentication Key</b></td>
		<td><b>Description</b></td>
	</tr>
	<tr>
		<td><code>0xd3 f7 d3 f7 d3 f7</code></td>
		<td>The public NDEF key is used as the A key for reads and writes and as the B key for writes.</td>
	</tr>
	<tr>
		<td><code>0xff ff ff ff ff ff</code></td>
		<td>Transport key is used as the A key for all operations and as the B key for writes.</td>
	</tr>
	<tr>
		<td><code>0xa0 a1 a2 a3 a4 a5</code></td>
		<td>The public MAD key is used for read operations in MAD sectors.</td>
	</tr>
</table>

<HR>	
	
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Overview</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Package</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <FONT CLASS="NavBarFont1">Class</FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="overview-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<b>Nokia Extensions for JSR-257</b></EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV&nbsp;
&nbsp;NEXT</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="index.html?overview-summary.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="overview-summary.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
<font size=-1>Copyright © 2010 Nokia Corporation.  All Rights Reserved.<br>Java is a trademark of Sun Microsystems, Inc.</font>
</BODY>
</HTML>
